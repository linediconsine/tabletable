$.fn.tabletable=function(){function a(){var a={width:0,height:0};return document.body&&document.body.offsetWidth&&(a.width=document.body.offsetWidth,a.height=document.body.offsetHeight),"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(a.width=document.documentElement.offsetWidth,a.height=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(a.width=window.innerWidth,a.height=window.innerHeight),a}_tabletable=this;var b=[];return _tabletable.find("tr").eq(0).find("th").each(function(a){b[a]=$(this).html()}),_tabletable.find("tr").each(function(a){0==a?$(this).find("th").each(function(a){b[a]=$(this).html()}):$(this).find("td").each(function(a){$(this).attr("data-title",b[a])})}),_tabletable.width()>a().width-20&&!_tabletable.hasClass("linearize")?_tabletable.addClass("linearize"):_tabletable.removeClass("linearize"),this};